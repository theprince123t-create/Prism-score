<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Cricket Score</title>
<style>
  body { font-family: sans-serif; text-align: center; background: #111; color: #fff; }
  #score { font-size: 28px; margin-top: 50px; }
  input, button { font-size: 16px; padding: 5px 10px; margin: 5px; }
</style>
</head>
<body>

<h1>Live Cricket Score</h1>

<input type="text" id="matchInput" placeholder="Enter Match ID">
<button onclick="changeMatch()">Load Match</button>

<div id="score">Loading...</div>

<script>
let matchID = '18726255';
const scoreDiv = document.getElementById('score');

async function fetchScore() {
  try {
    const res = await fetch('/api/score');
    const data = await res.json();
    // Adjust based on actual data structure
    scoreDiv.innerHTML = `${data.team1?.name || 'Team 1'}: ${data.team1?.runs || 0}/${data.team1?.wickets || 0}<br>
                          ${data.team2?.name || 'Team 2'}: ${data.team2?.runs || 0}/${data.team2?.wickets || 0}`;
  } catch (err) {
    scoreDiv.innerHTML = "Error fetching score";
    console.error(err);
  }
}

async function changeMatch() {
  matchID = document.getElementById('matchInput').value;
  await fetch(`/api/change-match/${matchID}`);
  fetchScore();
}

// Fetch every 5 seconds
fetchScore();
setInterval(fetchScore, 5000);
</script>

</body>
</html>
